# 네이버 카페 새 글 알리미 (Naver Cafe Monitor)
* 이 프로그램은 Gemini AI를 이용해 제작된 프로그램입니다.
  - 해당 대화 링크 :  https://gemini.google.com/share/5e6ea40af035
* 이 프로그램은 지정된 네이버 카페 게시판을 실시간으로 감시하여, 새로운 게시글이 올라오면 PC에서 알람(MP3)을 재생하는 데스크톱 애플리케이션입니다.

## 📋 주요 기능

### 1. 실시간 모니터링 (Background)
* **백그라운드 동작:** 크롬 브라우저 창을 띄우지 않고(Headless 모드) 백그라운드에서 조용히 실행됩니다.
* **공지사항 필터링:** 게시판 상단의 '공지', '필독' 글은 무시하고, 실제 넘버링이 된 **일반 새 글**만 감지합니다.
* **닉네임 필터링 (옵션):**
    * 특정 닉네임을 설정하면 해당 유저의 글만 알림을 울립니다.
    * 닉네임을 비워두면 게시판의 **모든 새 글**에 대해 알림을 울립니다.

### 2. 알람 및 오디오 제어
* **MP3 재생:** 새 글 감지 시 설정된 MP3 파일을 재생합니다.
* **볼륨 조절:** UI의 슬라이더를 통해 실시간으로 알람 볼륨을 조절할 수 있습니다.
* **재생 모드 전환 (실시간 적용):**
    * **무한 반복:** 알람을 끄기 전까지 계속 재생합니다.
    * **1회 재생:** 알람을 한 번만 재생하고 멈춥니다.
    * *특징:* 알람이 울리는 도중에도 버튼을 눌러 모드를 즉시 변경할 수 있습니다.

### 3. 사용자 편의 인터페이스 (GUI)
* **상태 표시:** 프로그램 하단 상태바를 통해 '모니터링 중', '새 글 감지', '에러 발생' 등의 상태를 실시간으로 확인할 수 있습니다.
* **알람 테스트:** 새 글이 없어도 알람 소리와 볼륨을 미리 테스트해볼 수 있습니다.
* **알람 끄기:** 알람이 울릴 때 즉시 소리를 끄고 다시 대기 모드로 돌아갑니다.

---

## 🛠️ 설치 및 사용 방법

### 1. 필수 라이브러리 설치
* 파이썬 환경에서 아래 명령어를 실행하여 필요한 패키지를 설치합니다.
```bash
pip install selenium pygame webdriver-manager
```

### 2. 사용자 설정 (코드 수정)
* 소스 코드 상단의 [사용자 설정] 구역을 본인의 환경에 맞게 수정해야 합니다.

### 2-1. 알람 MP3 파일 경로
```
ALARM_FILE_PATH = r"C:\Users\MyName\Music\alarm.mp3"
```

### 2-2. 감시할 게시판 URL (search.boardtype=L 포함된 주소 권장)
```
TARGET_BOARD_URL = ""
```

### 2-3. 감시할 닉네임 (비워두면 전체 감시)
```
TARGET_NICKNAME = ""
```

## 📅 수정 연혁 (Changelog)
### v1.0 - 초기 프로토타입
* 기본적인 Selenium 크롤링 및 Tkinter GUI 구성.

* MP3 파일 선택 기능 및 재생/정지 구현.

### v1.1 - UI/UX 개선 및 로직 변경
* **UI 변경**: 파일 선택 버튼 제거(코드 내장), 볼륨 조절 슬라이더 추가.

* **감지 로직 변경**: '멤버 작성글 검색 결과' 방식에서 '게시판 직접 감시' 방식으로 변경.

* **자동 시작**: '모니터링 시작' 버튼 제거, 실행 시 즉시 감시 시작.

### v1.2 - 백그라운드 실행 및 옵션 강화
* **Headless 모드 적용**: 크롬 브라우저 창이 뜨지 않도록 수정.

* **닉네임 옵션화**: 닉네임 미입력 시 게시판 전체 글을 감시하도록 로직 수정.

* webdriver_manager 도입으로 크롬 드라이버 버전 호환성 문제 해결.

### v1.3 - 크롤링 버그 수정 (Critical)
* **Selector 수정**: 네이버 카페 스킨 변경에 따른 CSS Selector 불일치 문제 해결 (td.td_article → td.type_articleNumber).

* **예외 처리**: 공지사항(글 번호가 없는 게시글)을 만났을 때 프로그램이 멈추는(NoSuchElementException) 현상 수정.

### v1.4 - GUI 레이아웃 수정
* **UI 배치 순서 변경**: 하단 상태 메시지가 버튼에 밀려 보이지 않는 문제 해결 (pack 순서 조정).

* **스레드 안전성 확보**: root.after를 사용하여 백그라운드 스레드에서 안전하게 UI 텍스트를 업데이트하도록 수정.

### v1.5 - 알람 제어 로직 고도화 (Current)
* **실시간 반복 제어**: 알람이 울리는 도중 '무한 반복' ↔ '1회 재생' 설정을 변경하면, 현재 곡이 끝나는 즉시 해당 설정이 반영되도록 수정.

* **상태 체크 루프**: check_music_status 함수를 추가하여 오디오 재생 상태를 0.1초마다 정밀하게 제어.